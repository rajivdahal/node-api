1. Update and imsert with images explained in product.controller.js and product.querry.js
 

2.searching mechanism

you will use querry of find but the conditions are different

searching can be done through GET method(in homepage) as well as  POST method(advanced filtering) by  sending some data to backend

if get requiest data are in req.query ,
if post data are in req.body

and the conditions are matched in following ways 
let condition = {}
    const data = req.method === "GET" ? req.query : req.body
    if (data.category)
        condition.category = data.category
    if (data.name)
        condition.name = data.name
    if (data.color)
        condition.color = data.color


  in case of price range the minimum and max price can be set using db query 

    if (data.minPrice)
        condition.price = {
            $gte: data.minPrice
        }
    if (data.maxPrice)
        condition.price = {
            $lte: data.maxPrice
        }
    if (data.minPrice && data.maxPrice)
        condition.price = {
            $lte: data.maxPrice,
            $gte: data.minPrice
        }


the interesting part is date part

    if (data.fromDate && data.toDate) {
        const fromDate = new Date(data.fromDate).setHours(0, 0, 0, 0);
        const toDate = new Date(data.toDate).setHours(23, 59, 59, 999);
        condition.createdAt = {
            $lte: new Date(toDate),
            $gte: new Date(fromDate)
        }
    }

it takes both the from date and to date should match if condition to run 

 const fromDate = new Date(data.fromDate).setHours(0, 0, 0, 0);
whenever you give date as 2021/01/01 the backend sets the time to 12 am time of   2021/01/01
         const toDate = new Date(data.toDate).setHours(23, 59, 59, 999);
whenever you give date as 2021/01/01 the backend sets the time just before to  am time of   2021/01/02 
so tin this way 1 day duration is set and if you don't give to date also 1 day duration is set that means that day (particular day)
it will search the created at section with query parameters lte and gte 
(use common sense) for analyzing



